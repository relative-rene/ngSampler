"use strict";(self.webpackChunkngSampler=self.webpackChunkngSampler||[]).push([[413],{2413:(q,g,c)=>{c.r(g),c.d(g,{FullCrudModule:()=>w});var s=c(95),l=c(9862),_=c(5495),t=c(5879);let m=(()=>{var n;class a{constructor(e){this.http=e,this.headers=new l.WM({"Content-Type":"application/json",charset:"UTF-8"}),this.options={headers:this.headers}}getCats(){return this.http.get("/cats")}addCat(e){return this.http.post("/cat",JSON.stringify(e),this.options)}editCat(e){return this.http.put(`/cat/${e._id}`,JSON.stringify(e),this.options)}deleteCat(e){return this.http.delete(`/cat/${e._id}`,this.options)}}return(n=a).\u0275fac=function(e){return new(e||n)(t.LFG(l.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),a})();function p(n,a){if(1&n&&(t.TgZ(0,"div",1)(1,"button",2)(2,"span",3),t._uU(3,"\xd7"),t.qZA()(),t.TgZ(4,"strong"),t._uU(5,"Message:"),t.qZA(),t._uU(6),t.qZA()),2&n){const o=t.oxw();t.Gre("alert alert-",o.message.type," alert-dismissible"),t.xp6(6),t.hij(" ",o.message.body,"\n")}}let u=(()=>{var n;class a{constructor(){this.message={body:"",type:""}}setMessage(e,i,r=3e3){this.message.body=e,this.message.type=i,setTimeout(()=>{this.message.body=""},r)}}return(n=a).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-toast"]],inputs:{message:"message"},decls:1,vars:1,consts:[["role","alert",3,"class",4,"ngIf"],["role","alert"],["type","button","data-dismiss","alert","aria-label","Close",1,"close"],["aria-hidden","true"]],template:function(e,i){1&e&&t.YNc(0,p,7,4,"div",0),2&e&&t.Q6J("ngIf",i.message.body)},styles:[".alert[_ngcontent-%COMP%]{z-index:999;position:fixed;bottom:15px;left:25%;width:50%;opacity:.9}"]}),a})();function h(n,a){1&n&&(t.TgZ(0,"div",2)(1,"h4",3),t._uU(2,"Loading..."),t.qZA(),t.TgZ(3,"div",4),t._UZ(4,"i",5),t.qZA()())}function f(n,a){1&n&&(t.TgZ(0,"tbody")(1,"tr")(2,"td",10),t._uU(3,"There are no cats in the DB. Add a new cat below."),t.qZA()()())}function b(n,a){if(1&n){const o=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"button",12),t.NdJ("click",function(){const r=t.CHM(o).$implicit,d=t.oxw(3);return t.KtG(d.enableEditing(r))}),t._UZ(9,"i",13),t._uU(10," Edit"),t.qZA(),t.TgZ(11,"button",14),t.NdJ("click",function(){const r=t.CHM(o).$implicit,d=t.oxw(3);return t.KtG(d.deleteCat(r))}),t._UZ(12,"i",15),t._uU(13," Delete"),t.qZA()()()}if(2&n){const o=a.$implicit;t.xp6(2),t.Oqu(o.name),t.xp6(2),t.Oqu(o.age),t.xp6(2),t.Oqu(o.weight)}}function Z(n,a){if(1&n&&(t.TgZ(0,"tbody"),t.YNc(1,b,14,3,"tr",11),t.qZA()),2&n){const o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",o.cats)}}function C(n,a){if(1&n){const o=t.EpF();t.TgZ(0,"tbody")(1,"tr")(2,"td",10)(3,"form",16,17),t.NdJ("ngSubmit",function(){t.CHM(o);const i=t.oxw(2);return t.KtG(i.editCat(i.cat))}),t.TgZ(5,"div",18)(6,"input",19),t.NdJ("ngModelChange",function(i){t.CHM(o);const r=t.oxw(2);return t.KtG(r.cat.name=i)}),t.qZA()(),t.TgZ(7,"div",18)(8,"input",20),t.NdJ("ngModelChange",function(i){t.CHM(o);const r=t.oxw(2);return t.KtG(r.cat.age=i)}),t.qZA()(),t.TgZ(9,"div",18)(10,"input",21),t.NdJ("ngModelChange",function(i){t.CHM(o);const r=t.oxw(2);return t.KtG(r.cat.weight=i)}),t.qZA()(),t.TgZ(11,"button",22),t._UZ(12,"i",23),t._uU(13," Save"),t.qZA()(),t.TgZ(14,"button",12),t.NdJ("click",function(){t.CHM(o);const i=t.oxw(2);return t.KtG(i.cancelEditing())}),t._UZ(15,"i",24),t._uU(16," Cancel"),t.qZA()()()()}if(2&n){const o=t.MAs(4),e=t.oxw(2);t.xp6(6),t.Q6J("ngModel",e.cat.name),t.xp6(2),t.Q6J("ngModel",e.cat.age),t.xp6(2),t.Q6J("ngModel",e.cat.weight),t.xp6(1),t.Q6J("disabled",!o.form.valid)}}function T(n,a){if(1&n&&(t.TgZ(0,"div",2)(1,"h4",3),t._uU(2),t.qZA(),t.TgZ(3,"div",6)(4,"table",7)(5,"thead",8)(6,"tr")(7,"th"),t._uU(8,"Name"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Age"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Weight"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Actions"),t.qZA()()(),t.YNc(15,f,4,0,"tbody",9),t.YNc(16,Z,2,1,"tbody",9),t.YNc(17,C,17,4,"tbody",9),t.qZA()()()),2&n){const o=t.oxw();t.xp6(2),t.hij("Current cats (",o.cats.length,")"),t.xp6(13),t.Q6J("ngIf",0===o.cats.length),t.xp6(1),t.Q6J("ngIf",!o.isEditing),t.xp6(1),t.Q6J("ngIf",o.isEditing)}}function A(n,a){if(1&n){const o=t.EpF();t.TgZ(0,"div",2)(1,"h4",3),t._uU(2,"Add new cat"),t.qZA(),t.TgZ(3,"div",6)(4,"form",25),t.NdJ("ngSubmit",function(){t.CHM(o);const i=t.oxw();return t.KtG(i.addCat())}),t.TgZ(5,"div",18),t._UZ(6,"input",26),t.qZA(),t.TgZ(7,"div",18),t._UZ(8,"input",27),t.qZA(),t.TgZ(9,"div",18),t._UZ(10,"input",28),t.qZA(),t.TgZ(11,"button",29),t._UZ(12,"i",23),t._uU(13," Add"),t.qZA()()()()}if(2&n){const o=t.oxw();t.xp6(4),t.Q6J("formGroup",o.addCatForm),t.xp6(7),t.Q6J("disabled",!o.addCatForm.valid)}}const y=_.Bz.forChild([{path:"",component:(()=>{var n;class a{constructor(e,i,r,d){this.http=e,this.dataService=i,this.toast=r,this.formBuilder=d,this.cats=[],this.isLoading=!0,this.cat={},this.isEditing=!1,this.name=new s.NI("",s.kI.required),this.age=new s.NI("",s.kI.required),this.weight=new s.NI("",s.kI.required)}ngOnInit(){this.getCats(),this.addCatForm=this.formBuilder.group({name:this.name,age:this.age,weight:this.weight})}getCats(){this.dataService.getCats().subscribe({next:e=>this.cats=[e],error:e=>console.log(e),complete:()=>this.isLoading=!1})}addCat(){this.dataService.addCat(this.addCatForm.value).subscribe(e=>{this.cats.push(e),this.addCatForm.reset(),this.toast.setMessage("item added successfully.","success")},e=>console.log(e))}enableEditing(e){this.isEditing=!0,this.cat=e}cancelEditing(){this.isEditing=!1,this.cat={},this.toast.setMessage("item editing cancelled.","warning"),this.getCats()}editCat(e){this.dataService.editCat(e).subscribe(i=>{this.isEditing=!1,this.cat=e,this.toast.setMessage("item edited successfully.","success")},i=>console.log(i))}deleteCat(e){if(window.confirm("Are you sure you want to permanently delete this item?")){var i=this.cats.filter(r=>r._id).indexOf(e._id);this.cats.splice(i,1),this.toast.setMessage("item deleted successfully.","success")}this.dataService.deleteCat(e)}}return(n=a).\u0275fac=function(e){return new(e||n)(t.Y36(l.eN),t.Y36(m),t.Y36(u),t.Y36(s.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home"]],decls:4,vars:4,consts:[["class","card",4,"ngIf"],[3,"message"],[1,"card"],[1,"card-header"],[1,"card-block","text-xs-center"],[1,"fa","fa-circle-o-notch","fa-spin","fa-3x"],[1,"card-block"],[1,"table","table-bordered","table-striped"],[1,"thead-default"],[4,"ngIf"],["colspan","4"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-warning",3,"click"],[1,"fa","fa-pencil"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"form-inline",2,"display","inline",3,"ngSubmit"],["form","ngForm"],[1,"form-group"],["type","text","name","name","placeholder","Name","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","name","age","placeholder","Age","min","0","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","name","weight","placeholder","Weight","step","any","min","0","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-sm","btn-primary",3,"disabled"],[1,"fa","fa-floppy-o"],[1,"fa","fa-times"],[1,"form-inline",2,"text-align","center",3,"formGroup","ngSubmit"],["type","text","name","name","formControlName","name","placeholder","Name",1,"form-control"],["type","number","name","age","formControlName","age","placeholder","Age","min","0",1,"form-control"],["type","number","name","weight","formControlName","weight","placeholder","Weight","step","any","min","0",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,i){1&e&&(t.YNc(0,h,5,0,"div",0),t._UZ(1,"app-toast",1),t.YNc(2,T,18,4,"div",0),t.YNc(3,A,14,2,"div",0)),2&e&&(t.Q6J("ngIf",i.isLoading),t.xp6(1),t.Q6J("message",i.toast.message),t.xp6(1),t.Q6J("ngIf",!i.isLoading),t.xp6(1),t.Q6J("ngIf",!i.isEditing))},dependencies:[s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.qQ,s.On,s.F,s.sg,s.u,u],styles:[".table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;width:25%}"]}),a})()},{path:"about",component:(()=>{var n;class a{constructor(){}}return(n=a).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-about"]],decls:52,vars:0,consts:[[1,"card"],[1,"card-header"],[1,"card-block"],["href","https://github.com/DavideViolante","target","_blank"],["href","https://github.com/DavideViolante/Angular2-Full-Stack","target","_blank"],["href","http://www.mongoosejs.com","target","_blank"],["href","https://www.mongodb.com","target","_blank"],["href","http://www.expressjs.com","target","_blank"],["href","https://www.angular.io","target","_blank"],["href","https://www.nodejs.org","target","_blank"],["href","https://cli.angular.io","target","_blank"],["href","http://www.getbootstrap.com","target","_blank"],["href","http://www.fontawesome.io","target","_blank"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"About"),t.qZA(),t.TgZ(3,"div",2)(4,"ul")(5,"li")(6,"b"),t._uU(7,"Author:"),t.qZA(),t.TgZ(8,"a",3),t._uU(9,"Davide Violante"),t.qZA()(),t.TgZ(10,"li")(11,"b"),t._uU(12,"GitHub:"),t.qZA(),t.TgZ(13,"a",4),t._uU(14,"project repository"),t.qZA()(),t.TgZ(15,"li")(16,"b"),t._uU(17,"Tools used:"),t.qZA()(),t.TgZ(18,"ul")(19,"li")(20,"a",5)(21,"b"),t._uU(22,"M"),t.qZA(),t._uU(23,"ongoose.js"),t.qZA(),t._uU(24," ("),t.TgZ(25,"a",6),t._uU(26,"MongoDB"),t.qZA(),t._uU(27,")"),t.qZA(),t.TgZ(28,"li")(29,"a",7)(30,"b"),t._uU(31,"E"),t.qZA(),t._uU(32,"xpress.js"),t.qZA()(),t.TgZ(33,"li")(34,"a",8)(35,"b"),t._uU(36,"A"),t.qZA(),t._uU(37,"ngular 2"),t.qZA()(),t.TgZ(38,"li")(39,"a",9)(40,"b"),t._uU(41,"N"),t.qZA(),t._uU(42,"ode.js"),t.qZA()(),t.TgZ(43,"li")(44,"a",10),t._uU(45,"Angular CLI"),t.qZA()(),t.TgZ(46,"li")(47,"a",11),t._uU(48,"Bootstrap"),t.qZA()(),t.TgZ(49,"li")(50,"a",12),t._uU(51,"Font Awesome"),t.qZA()()()()()())}}),a})()}]);let w=(()=>{var n;class a{}return(n=a).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[m,u],imports:[s.u5,s.UX,l.JF,y]}),a})()}}]);